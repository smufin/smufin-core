#!/bin/bash

while :; do
    sm_pid=$(pgrep sm-standalone)
    if [[ $? -ne 0 ]]; then
        exit
    fi
    for i in $sm_pid; do
        top -n 1 -b | awk -v sm="$i" \
            '$1 == sm {print $5, $6, $9, $10, $11, $12}'
    done
    sleep 10
done
